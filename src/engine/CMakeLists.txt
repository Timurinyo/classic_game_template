add_library(engine
    engine_main.cpp
    window.cpp window.h
    pch.cpp pch.h external_libs.h system.h
    assets.cpp assets.h
    tilemap.h tilemap.cpp
    clock.cpp clock.h)

target_compile_definitions(engine
    PUBLIC
    GLM_FORCE_DEPTH_ZERO_TO_ONE
    GLM_FORCE_LEFT_HANDED
    NOMINMAX)

find_package(SDL2 CONFIG REQUIRED)
find_package(sdl2-mixer CONFIG REQUIRED)
find_package(fmt CONFIG REQUIRED)
find_package(imgui CONFIG REQUIRED)
find_package(glm CONFIG REQUIRED)
find_package(tmx CONFIG REQUIRED)

target_link_libraries(engine
    PUBLIC
        SDL2::SDL2 SDL2::SDL2main
        SDL2::SDL2_mixer
        fmt::fmt fmt::fmt-header-only
        imgui::imgui
        glm
        tmx tmx_shared
        render_core
    PRIVATE
        $<$<PLATFORM_ID:Windows>:render_dx11>
)

target_precompile_headers(engine PRIVATE pch.h)

target_include_directories(engine
    PUBLIC
        ../)